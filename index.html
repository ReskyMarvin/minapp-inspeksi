<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>QR Scanner (Mini App)</title>
  <style>
    body{font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;margin:0;padding:16px;background:#0f172a;color:#fff}
    .wrap{max-width:520px;margin:auto}

    /* === Welcome Screen === */
    #welcome{
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      height:100vh;
      text-align:center;
    }
    #welcome img{
      width:160px;
      height:160px;
      margin-bottom:20px;
    }
    #welcome h1{
      font-size:32px;
      color:#0ff;
      text-shadow:0 0 12px #0ff;
      margin-bottom:20px;
    }
    #welcome button{
      padding:12px 24px;
      border:0;
      border-radius:10px;
      font-weight:600;
      font-size:16px;
      cursor:pointer;
      background:#0ea5e9;
      color:#fff;
      box-shadow:0 0 10px #0ea5e9;
    }

    /* === Scanner Section (hidden awal) === */
    #scanner{display:none}
    video,canvas{width:100%;border-radius:12px;background:#000}
    .row{display:flex;gap:8px;align-items:center;margin:12px 0}
    button{flex:1;padding:12px;border-radius:10px;border:0;cursor:pointer;font-weight:600}
    #startBtn{background:#0ea5e9;color:#fff}
    #stopBtn{background:#e5e7eb}
    #sendBtn{background:#22c55e;color:#fff}
    #result{padding:12px;border-radius:10px;background:#fff;color:#000;word-break:break-word;min-height:42px}
    .hint{color:#9ca3af;font-size:12px}
    .ok{color:#16a34a;font-weight:600}
    .err{color:#b91c1c;font-weight:600}
  </style>
</head>
<body>
<div class="wrap">

  <!-- Welcome Screen -->
  <section id="welcome">
    <!-- ganti src dengan path logo TRON-mu -->
    <img src="tron-logo.png" alt="TRON Logo" />
    <h1>TRON</h1>
    <button id="enterBtn">Mulai Scan</button>
  </section>

  <!-- Scanner Section -->
  <section id="scanner">
    <h2>QR Scanner</h2>

    <div class="row">
      <button id="startBtn" type="button">Start Camera</button>
      <button id="stopBtn"  type="button" disabled>Stop</button>
    </div>

    <video id="video" playsinline></video>
    <canvas id="canvas" style="display:none;"></canvas>

    <h3>Hasil</h3>
    <div id="result">Belum ada hasil.</div>
    <div class="row" id="sendRow" style="display:none">
      <button id="sendBtn" type="button" disabled>Kirim ke Sheet</button>
    </div>

    <p class="hint">Melezatkan.</p>
  </section>
</div>

<!-- jsQR CDN -->
<script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  // tombol masuk dari welcome ke scanner
  document.getElementById('enterBtn').addEventListener('click', () => {
    document.getElementById('welcome').style.display = 'none';
    document.getElementById('scanner').style.display = 'block';
  });

  // === (lanjutan kode scanner-mu tetap sama di sini) ===
  // paste semua script jsQR + fetch ke GAS yang sudah ada
});
</script>
</body>
</html>
